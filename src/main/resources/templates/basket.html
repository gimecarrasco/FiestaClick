<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/../../Style-basket.css">
        <link rel="stylesheet" type="text/css" href="/font/fontello.css">
        <title>Basket</title>
    </head>

    <body>
        <!--       Head and NavBar-->            
        <header th:replace="/fragments/header :: header"></header>


        <table  class="table container">

            <thead>
                <tr >
                    <th th:if="${message != null}" th:text="${message}" ></th>
                </tr>
                <tr>
                    <th scope="col" id="name" th:if ="${message == null}">Tu fiesta</th>
                    <th scope="col" id="delete" th:if ="${message == null}" >Precio</th>
                    <!--                    <th scope="col"id="delete"  >Confirmar</th>-->
                </tr>
            </thead>
            <tbody>
                <!--                <tr th:each="partyEntity : ${partys}">                    
                                    <td th:text="${partyEntity.eventRoomEntity.name}"></td>
                                    <td th:text="${partyEntity.cateringEntity.name}"></td>
                                    <td th:text="${partyEntity.extraServiceEntity.name}"></td>              
                                    <td>
                                        <a th:href="@{/libros/delete}+'?isbn='+${l.isbn}"><button class="btn btn-light">Eliminar</button></a>
                                        <a th:href="@{/libros/form}+'?isbn='+${l.isbn}+'&action=modificar'"><button class="btn btn-light">Editar</button></a>
                                    </td>
                                </tr>          -->

            <form th:if ="${message == null}" th:action="@{/shop/registerParty}" method="POST">

                <tr>               
                    <td th:if="${catering != null}" th:text="${catering.name}" id="name"></td>
                    <td th:if="${catering != null}" th:text="${catering.price}" id="price"></td>
                <input type="hidden" class="form-control" name="idCatering" th:if="${catering != null}" th:value="${catering.id}">
                <td>
                    <a th:if="${catering != null}" th:href="@{/servicios/notBoughtCatering(id=${catering.id})}">   
                        <button type="button" class="btn btn-danger" id="delete">Eliminar</button>
                    </a> 
                </td>
                </tr>
                <tr>
                    <td th:if="${eventRoom != null}" th:text="${eventRoom.name}" id="name"></td>     
                    <td th:if="${eventRoom != null}" th:text="${eventRoom.price}" id="price"></td>
                <input th:if="${eventRoom != null}" type="hidden" class="form-control" name="idEventRoom" th:value="${eventRoom.id}">
                <td>
                    <a th:if="${eventRoom != null}" th:href="@{/servicios/notBoughtEventRoom(id=${eventRoom.id})}">   
                        <button type="button" class="btn btn-danger" id="delete">Eliminar</button>
                    </a> 
                </td>
                </tr>
                <tr>
                    <td th:if="${extra != null}" th:text="${extra.name}" id="name"></td>  
                    <td th:if="${extra != null}" th:text="${extra.price}" id="price"></td>
                <input th:if="${extra != null}" type="hidden" class="form-control" name="idExtra" th:value="${extra.id}">
                <td>
                    <a th:if="${extra != null}"  th:href="@{/servicios/notBoughtExtra(id=${extra.id})}">   
                        <button type="button" class="btn btn-danger" id="delete">Eliminar</button>
                    </a> 
                </td>
                </tr>

                <tr>
                    <td>
                        <button type="submit" class="btn btn-primary" id="buy">Confirmar compra</button>                     
                    </td>
                </tr>
            </form>
        </tbody>

    </table>

    <!-- Footer -->
    <footer th:replace="/fragments/footer :: footer"></footer> 
</body>

</html>